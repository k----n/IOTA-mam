{% extends "sshkm/base.html" %}

{% block title %}{{ network.name }} ({{ network.ip }}/{{ network.netmask }}){% endblock %}

{% block content %}
<!--
<form action="{% url 'create_host' %}" method="post">
{% csrf_token %}
Create Host:<br>
Name: <input type="text" name="hostname"><br>
IP:
<select name="ip">
{% for ip in ips %}
<option>{{ ip }}</option>
{% endfor %}
</select>
<br>
Comment: <input type="text" name="comment"><br>
<input type="hidden" name="network_id" value="{{ network.id }}"><br>
<input type="submit" value="create">
</form>
-->


<div id="host_form" class="row col-12 col-sm-12 col-lg-12">
<h2>Create Host:</h2>
<form role="form" id="hostForm" method="post" action="{% url 'create_host' %}">
{% csrf_token %}
<div class="row col-12 col-sm-12 col-lg-12">
    <fieldset class="form-inline">
        <input type="text" class="input-mini" name="hostname" placeholder="Hostname">
        <select name="ip">
        {% for ip in ips %}
            <option>{{ ip }}</option>
        {% endfor %}
        </select>
        <input type="text" class="input-mini" name="comment" placeholder="Comment">
    </fieldset>
</div><!-- end row -->
<input type="hidden" name="network_id" value="{{ network.id }}"><br>
<button type="submit" id="feedbackSubmit" class="btn btn-default">Save</button>
</form> 
</div>

<div class="row col-12 col-sm-12 col-lg-12">
<h2>Hosts:</h2>
{% if host %}
    <table border="1" cellpadding="2" cellspacing="2">
    {% for h in host %}
        <tr>
            <td>{{ h.ip }}</td>
            <td>{{ h.hostname }}</td>
            <td>{{ h.comment }}</td>
            <td><a href="/sshkm/delete_host/?id={{ h.id }}"><span class="glyphicon glyphicon-trash" aria-hidden="true"></span></a></td>
        </tr>
    {% endfor %}
    </table>
{% else %}
    <p>No hosts are available.</p>
{% endif %}
</div>

{% endblock %}
